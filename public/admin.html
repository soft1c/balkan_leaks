<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Media Upload</title>
  <script src="https://cdn.ckeditor.com/ckeditor5/36.0.1/classic/ckeditor.js"></script>
  <link rel="stylesheet" href="css/admin.css">
</head>
<body>
  <div class="top-navigation">
    <nav class="navbar">
        <a href="#menu" class="mobile-only hot-dog nav-element">
        </a>
      <div class="nav-logo">
        <a href="https://google.com">
          <h1>BIPKD</h1>
        </a>
      </div>
      <div class="action-buttons">
        <button id="odjava" class="button-face support-link" onclick="logout()">Log Out</button>
      </div>
      
      <div class="main-nav">
      </div>
    </nav>
  </div>
  <script src="js/admin.js"></script>
  <div class="sidebar">
    <a href="#" class="tablink" onclick="openTab(event, 'AddPerson')">Add Person</a>
    <a href="#" class="tablink" onclick="openTab(event, 'UploadMedia')">Upload Media</a>
    <a href="#" class="tablink" onclick="openTab(event, 'IPAddresses')">IP Addresses</a>
    <a href="#" class="tablink" onclick="openTab(event, 'PersonOfTheMonth')">Person of the Month</a>
    <a href="#" class="tablink" onclick="openTab(event, 'FeaturedPersons')">Featured Persons</a>
    <a href="#" class="tablink" onclick="openTab(event, 'EditPersons')">Edit Persons</a>
    <a id="ManageModerators1" href="#" class="tablink" onclick="openTab(event, 'ManageModerators')" >Manage Moderators</a>
    
  </div>
  <div id="AddPerson" class="tabcontent"> 
  <form action="/admin/dodaj" method="post" enctype="multipart/form-data">
    <h1>Add a Person</h1>
    <div class="form-row">
      <div class="form-group">
        <label for="ime">Ime:</label>
        <input type="text" name="ime" required>
      </div>
      
      <div class="form-group">
        <label for="ime">Prezime:</label>
        <input type="text" name="prezime" required>
      </div>
    </div>
    
    <div class="form-row">
      <div class="form-group">
        <label for="datumRodjenja">Datum rođenja:</label>
        <input type="date" id="datumRodjenja" name="datumRodjenja" required>
      </div>
      
      <div class="form-group">
        <label for="mjestoRodjenja">Mjesto rođenja:</label>
        <input type="text" id="mjestoRodjenja" name="mjestoRodjenja" required>
      </div>

      <div class="form-group">
        <label for="datumSmrti">Datum smrti (opcionalno):</label>
        <input type="date" id="datumSmrti" name="datumSmrti">
      </div>
    </div> 
    
    <div class="form-row">
      <div class="form-group image-upload-container">
        <div class="image-upload-box" onclick="document.getElementById('slika').click()">
          <p>Upload Picture</p>
          <input type="file" id="slika" name="slika" accept="image/*" required onchange="previewImage(event)">
          <img id="imagePreview" src="" alt="Image preview" style="display:none;">
        </div>
      </div>
      
      <div class="form-group text-editor-container">
        
        <textarea name="opis" id="opis"></textarea>
        <script>
          ClassicEditor
            .create(document.querySelector('#opis'))
            .catch(error => {
              console.error(error);
            });
        </script>
      </div>
    </div>
    

  
    <div class="form-row button-container">
      <button type="submit" class="submit-button">Dodaj osobu</button>
    </div>
  </form>
  </div>



  <div id="UploadMedia" class="tabcontent">
    <h1>Upload Media</h1>
    <form id="uploadForm" enctype="multipart/form-data">
      <div class="form-row">
        <div class="form-group">
          <label for="licnost">Izaberite ličnost:</label>
          <select name="licnost" id="licnost" required>
          </select>
        </div>
      
        <div class="form-group">
          <label for="type">Izaberite tip fajla:</label>
          <select name="type" id="type" required>
            <option value="image">Slika</option>
            <option value="video">Video</option>
            <option value="audio">Audio</option>
            <option value="text">Tekst</option>
          </select>
        </div>
      </div>
      
      <div class="form-row">
  <div class="form-group">
    <input type="file" id="file" name="file" required style="display: none;" onchange="updateFilename()">
    <button type="button" class="file-upload-button" onclick="document.getElementById('file').click();">Izaberite fajl</button>
    <span id="file-name"></span> <!-- Placeholder for the file name -->
  </div>
</div>
      
      <div class="form-row button-container">
        <button type="button" onclick="uploadMedia()" class="submit-button">Upload</button>
      </div>
    </form>
  </div>

  <div id="IPAddresses" class="tabcontent">
  <h2>IP Addresses and Login Times:</h2>
  <ul id="ipList"></ul>
  </div>
  
  <div id="PersonOfTheMonth" class="tabcontent">
  <h2>Osoba Mjeseca</h2>
  <form id="osobaMjesecaForm">
    <label for="osobaMjeseca">Izaberite Osobu Mjeseca:</label>
    <select name="osobaMjeseca" id="osobaMjeseca" required>
     
    </select>
    <br>
    <button type="button" onclick="odaberiOsobuMjeseca()">Odaberi</button>
  </form>
  </div>


  <div id="FeaturedPersons" class="tabcontent">
  <h2>Istaknute Osobe</h2>
<form id="featuredPersonsForm">
  <label for="featuredPerson1">Osoba 1:</label>
  <select name="featuredPerson1" id="featuredPerson1" required></select>
  <br>

  <label for="featuredPerson2">Osoba 2:</label>
  <select name="featuredPerson2" id="featuredPerson2" required></select>
  <br>

  <label for="featuredPerson3">Osoba 3:</label>
  <select name="featuredPerson3" id="featuredPerson3" required></select>
  <br>

  <label for="featuredPerson4">Osoba 4:</label>
  <select name="featuredPerson4" id="featuredPerson4" required></select>
  <br>

  <button type="button" onclick="odaberiIstaknuteOsobe()">Odaberi Istaknute Osobe</button>
</form>
</div>
<div id="EditPersons" class="tabcontent">
  
  <h2>Edit Persons</h2>
  <!-- Dropdown for selecting a person -->
  <select style ="width:30%; height: 30px" id="personSelect" onchange="populateEditForm()">
    <option value="">Select a Person...</option>
    <!-- Options will be dynamically populated here -->
  </select>
  

  
  <!-- The form for editing a person's details -->
  <form id="editPersonForm" style="display:none;">
    <h1>Edit Person Details</h1>
    
    
    <div class="form-row">
      <div class="form-group">
        <label for="ime">Ime:</label>
        <input type="text" id="imeEdit" name="ime" required>
      </div>
      
      <div class="form-group">
        <label for="ime">Prezime:</label>
        <input type="text" id="prezimeEdit" name="prezime" required>
      </div>
    </div>
    
    <div class="form-row">
      <div class="form-group">
        <label for="datumRodjenja">Datum rođenja:</label>
        <input type="date" id="datumRodjenjaEdit" name="datumRodjenja" required>
      </div>
      
      <div class="form-group">
        <label for="mjestoRodjenja">Mjesto rođenja:</label>
        <input type="text" id="mjestoRodjenjaEdit" name="mjestoRodjenja" required>
      </div>

      <div class="form-group">
        <label for="datumSmrti">Datum smrti (opcionalno):</label>
        <input type="date" id="datumSmrtiEdit" name="datumSmrti">
      </div>
    </div> 
    
    <div class="form-row">
      <div class="form-group image-upload-container">
        <div class="image-upload-box" onclick="document.getElementById('slikaEdit').click()">
          <p>Upload Picture</p>
          <input type="file" id="slikaEdit" name="slika" accept="image/*" required onchange="previewImage(event)">
          <img id="slikaId" src="" alt="Image preview" style="display:none;">
        </div>
      </div>
      
      <div class="form-group text-editor-container">
        
        <textarea name="opisEdit" id="opisEdit"></textarea>
        
      </div>
    </div>
    

  
    
    <div class="form-row button-container">
      <button type="button" onclick="submitEditForm()" class="submit-button">Update Person</button>
    </div>
  </form>
</div>

<div id="ManageModerators" class="tabcontent">
  <h1>Add a Moderator</h1>
  <form id="addModeratorForm">
    <div class="form-row">
      <div class="form-group">
        <label for="modUsername">Username:</label>
        <input type="text" id="modUsername" name="username" required>
      </div>
      
      <div class="form-group">
        <label for="modPassword">Password:</label>
        <input type="password" id="modPassword" name="password" required>
      </div>
    </div>

    <div class="form-row button-container">
      <button type="button" onclick="addModerator()" class="submit-button">Add Moderator</button>
    </div>
  </form>


  <h1>Delete a Moderator</h1>
  <form id="deleteModeratorForm">
    <div class="form-row">
      <div class="form-group">
        <label for="moderatorSelect">Select Moderator:</label>
        <select id="moderatorSelect" required></select>
      </div>
    </div>
    <div class="form-row button-container">
      <button type="button" onclick="deleteModerator()" class="submit-button">Delete Moderator</button>
    </div>
  </form>

</div>
<script src="js/admin.js"></script>
</body>
</html>
